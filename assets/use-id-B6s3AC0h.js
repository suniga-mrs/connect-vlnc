import{o as M,aj as T,f as u,B as s,u as q,ar as A,C as B,r as w,v as z,w as _,a as $}from"./index-BIE8txEE.js";import{f as I,e as R,k as V}from"./QItemLabel-CTePAmBS.js";function K(e,t,r){let o;function i(){o!==void 0&&(T.remove(o),o=void 0)}return M(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){o={condition:()=>r.value===!0,handler:t},T.add(o)}}}let a=0,y,m,c,h=!1,L,E,S,d=null;function W(e){X(e)&&q(e)}function X(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=A(e),r=e.shiftKey&&!e.deltaX,o=!r&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=r||o?e.deltaY:e.deltaX;for(let v=0;v<t.length;v++){const l=t[v];if(V(l,o))return o?i<0&&l.scrollTop===0?!0:i>0&&l.scrollTop+l.clientHeight===l.scrollHeight:i<0&&l.scrollLeft===0?!0:i>0&&l.scrollLeft+l.clientWidth===l.scrollWidth}return!0}function x(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function f(e){h!==!0&&(h=!0,requestAnimationFrame(()=>{h=!1;const{height:t}=e.target,{clientHeight:r,scrollTop:o}=document.scrollingElement;(c===void 0||t!==window.innerHeight)&&(c=r-t,document.scrollingElement.scrollTop=o),o>c&&(document.scrollingElement.scrollTop-=Math.ceil((o-c)/8))}))}function P(e){const t=document.body,r=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:i}=window.getComputedStyle(t);y=I(window),m=R(window),L=t.style.left,E=t.style.top,S=window.location.href,t.style.left=`-${y}px`,t.style.top=`-${m}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,u.is.ios===!0&&(r===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",f,s.passiveCapture),window.visualViewport.addEventListener("scroll",f,s.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",x,s.passiveCapture))}u.is.desktop===!0&&u.is.mac===!0&&window[`${e}EventListener`]("wheel",W,s.notPassive),e==="remove"&&(u.is.ios===!0&&(r===!0?(window.visualViewport.removeEventListener("resize",f,s.passiveCapture),window.visualViewport.removeEventListener("scroll",f,s.passiveCapture)):window.removeEventListener("scroll",x,s.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=L,t.style.top=E,window.location.href===S&&window.scrollTo(y,m),c=void 0)}function Y(e){let t="add";if(e===!0){if(a++,d!==null){clearTimeout(d),d=null;return}if(a>1)return}else{if(a===0||(a--,a>0))return;if(t="remove",u.is.ios===!0&&u.is.nativeMobile===!0){d!==null&&clearTimeout(d),d=setTimeout(()=>{P(t),d=null},100);return}}P(t)}function O(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Y(t))}}}function Z(e,t,r){return r<=t?t:Math.min(r,Math.max(t,e))}function D(e,t,r){if(r<=t)return t;const o=r-t+1;let i=t+(e-t)%o;return i<t&&(i=o+i),i===0?0:i}function G(e,t=2,r="0"){if(e==null)return e;const o=""+e;return o.length>=t?o:new Array(t-o.length+1).join(r)+o}let b,p=0;const n=new Array(256);for(let e=0;e<256;e++)n[e]=(e+256).toString(16).substring(1);const F=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const r=new Uint8Array(t);return e.getRandomValues(r),r}}return t=>{const r=[];for(let o=t;o>0;o--)r.push(Math.floor(Math.random()*256));return r}})(),H=4096;function g(){(b===void 0||p+16>H)&&(p=0,b=F(H));const e=Array.prototype.slice.call(b,p,p+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}function U(e){return e??null}function C(e,t){return e??(t===!0?`f_${g()}`:null)}function J({getValue:e,required:t=!0}={}){if(B.value===!0){const r=e!==void 0?w(U(e())):w(null);return t===!0&&r.value===null&&z(()=>{r.value=`f_${g()}`}),e!==void 0&&_(e,o=>{r.value=C(o,t)}),r}return e!==void 0?$(()=>C(e(),t)):w(`f_${g()}`)}export{O as a,Z as b,J as c,g as d,D as n,G as p,K as u};
