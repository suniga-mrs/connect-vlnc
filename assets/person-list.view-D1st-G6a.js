import{d as p,Q as P}from"./QBtn-DrOSU4Pj.js";import{Q as J}from"./QSpace-AS-S3RZV.js";import{a as W}from"./QOptionGroup-Dxjt7NXN.js";import{Q as M}from"./QCard-CUZIraxs.js";import{Q as F,a as X}from"./QPopupProxy-DdZUOrSS.js";import{j as _,i as q,Q as v}from"./QItemLabel-CTePAmBS.js";import{Q as A}from"./QList-DwTGaMOE.js";import{Q as S}from"./QMenu-Dx63Jv60.js";import{Q as y}from"./QInput-Btb3upEo.js";import{a as Z,Q as D,b as $,c as ee}from"./QCheckbox-B4x6FDiq.js";import{Q as le}from"./QSlideTransition-kYJ1UXDL.js";import{C as d}from"./ClosePopup-BEYXvicz.js";import{D as oe}from"./discipleship-group-list.table-SwdDyVd7.js";import{u as N}from"./use-app-layout-qSPu8TdD.js";import{H as O,r as m,_ as h,K as n,L as g,Y as a,M as l,N as t,y as r,$ as te,a as I,I as se,O as b,P as i,a1 as w}from"./index-BIE8txEE.js";import{Q as U}from"./QCardSection-CUBKIb4I.js";import{C as ae}from"./create-edit-person.form-CLAJNFBK.js";import"./use-dark-VSJ3s6Dh.js";import"./use-id-B6s3AC0h.js";import"./QChip-B6g5ytrn.js";import"./QTable-BHs2TlDD.js";import"./QSeparator-BkSUb1Ec.js";const ne=[{name:"actions",align:"left",label:"",field:"actions"},{name:"memberName",align:"left",label:"Name",field:"lastName",format:(x,e)=>`${e?.lastName}, ${e?.firstName}`,sortable:!0},{name:"lifeStage",align:"left",label:"Life Stage",field:"lifeStage",sortable:!0},{name:"emailAddress",align:"left",label:"Email Address",field:"emailAddress"}],de=O({__name:"create-edit-person.view",setup(x,{expose:e}){e();const{toggleFormDrawer:u}=N(),o=m(!1),f={toggleFormDrawer:u,closeDialog:o,CreateEditPersonForm:ae};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),re={class:"form-drawer-wrapper"},ie={class:"bg-primary text-white q-pa-md"},me={class:"flex justify-end"},ce={class:"form-container"},pe={class:"q-pa-md"};function ue(x,e,u,o,f,V){return n(),g(te,null,[a("div",re,[a("div",ie,[a("div",me,[l(p,{flat:"",rounded:"",label:"Cancel",color:"blue-2",class:"q-ml-sm",icon:"close",size:"sm",onClick:e[0]||(e[0]=s=>o.closeDialog=!0)})]),e[2]||(e[2]=a("div",{class:"text-h6"},"Add Person",-1)),e[3]||(e[3]=a("div",{class:"text-caption text-italic"}," Encode a person's information and get them connected ",-1))]),a("div",ce,[a("div",pe,[l(o.CreateEditPersonForm)])])]),l(Z,{modelValue:o.closeDialog,"onUpdate:modelValue":e[1]||(e[1]=s=>o.closeDialog=s),persistent:""},{default:t(()=>[l(M,null,{default:t(()=>[l(U,{class:"row items-center"},{default:t(()=>e[4]||(e[4]=[a("p",{class:"text-weight-bold text-body2"},"Unsaved changes will lost",-1),a("span",null,"You have unsaved changes. If you close this form now, all changes will be lost. Do you want to continue?",-1)])),_:1}),l(U,{align:"right"},{default:t(()=>[r(l(p,{class:"q-px-lg",flat:"",label:"Cancel",color:"primary"},null,512),[[d]]),r(l(p,{class:"q-px-lg",label:"Continue",onClick:o.toggleFormDrawer,color:"primary"},null,8,["onClick"]),[[d]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const fe=h(de,[["render",ue],["__scopeId","data-v-0db89060"],["__file","create-edit-person.view.vue"]]),_e=O({__name:"person-list.view",setup(x,{expose:e}){e();const{showForm:u}=N(),o=()=>{u(fe)},f=m(null),V=m(null),s=m(null),c=m({from:null,to:null}),E=m(!1),z=m(null),L=I(()=>c.value.from==null&&c.value.to==null?null:c.value.from+" to "+c.value.to),B=["Kids","Students","Singles","Single Parents","Couples","Seniors"],T=["Male","Female"],Y=()=>c.value={from:null,to:null},C=m([]),j=[{label:"Home Address",value:"home_address"},{label:"Email Address",value:"email_address"},{label:"Gender",value:"gender"}],G=I(()=>C.value.length>0),Q=se();function H(K){const R=Q.resolve({name:"person_details",params:{personId:K}}).href;window.open(R,"_blank")}const k={showForm:u,openCreatePerson:o,model:f,optionsModel:V,genderOptionModel:s,date:c,checkbox:E,address:z,dateInput:L,options:B,genderOptions:T,dateCleared:Y,selectedAdvancedFilters:C,advancedFilterItems:j,isAdvancedFiltersOpen:G,router:Q,goToProfilePage:H,DiscipleshipTable:oe,get columnsPerson(){return ne}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),ve={class:"q-px-md"},be={class:"q-py-sm flex items-center filter-wrapper"},ge={class:"col-grow"},xe={class:"row items-center q-mb-sm"},qe={class:"text-primary"},ye={class:"q-py-sm text-caption"},we={class:"q-py-sm text-caption"},Ve={class:"row filter-fields"},Ce={class:"col-6 col-md-3 q-pr-md-sm q-pr-sm"},Qe={class:"col-6 col-md-3 q-pl-md-none q-pl-sm q-pr-md-sm q-pr-none"},ke={class:"col-6 col-md-3 q-pr-md-sm q-pr-sm q-pt-sm q-pt-md-none"},Pe={class:"row items-center justify-end"},Fe={class:"col-6 col-md-3 q-pl-md-none q-pl-sm q-pt-sm q-pt-md-none"},Ae={key:0,class:"row q-mt-sm filter-fields"},Se={key:0,class:"col-6 col-md-3 q-pr-md-sm q-pr-sm"},De={key:1,class:"col-6 col-md-3 q-pl-md-none q-pl-sm q-pr-md-sm q-pr-none"},Ie={key:2,class:"col-6 col-md-3 q-pr-md-sm q-pr-sm q-pt-sm q-pt-md-none"};function Ue(x,e,u,o,f,V){return n(),g("div",ve,[a("div",be,[a("div",ge,[a("div",xe,[a("div",qe,[l(P,{name:"o_people",size:"xs"}),e[9]||(e[9]=a("span",{class:"q-ml-sm text-caption text-weight-medium text-uppercase"},"People ",-1))]),l(J),l(p,{flat:"",color:"primary",icon:"filter_list",size:"sm",label:"More Filters"},{default:t(()=>[l(F,null,{default:t(()=>[l(M,{class:"q-pa-md"},{default:t(()=>[e[10]||(e[10]=a("span",{class:"text-caption q-pl-sm text-uppercase text-grey-7"},"Filter By:",-1)),l(W,{modelValue:o.selectedAdvancedFilters,"onUpdate:modelValue":e[0]||(e[0]=s=>o.selectedAdvancedFilters=s),options:o.advancedFilterItems,color:"primary",type:"checkbox",size:"sm"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(p,{flat:"",class:"q-px-sm",color:"primary",icon:"more_horiz",label:"Actions",size:"sm"},{default:t(()=>[l(S,null,{default:t(()=>[l(A,{style:{width:"250px"},separator:""},{default:t(()=>[r((n(),b(v,{clickable:"",onClick:o.openCreatePerson},{default:t(()=>[l(_,null,{default:t(()=>[a("div",ye,[l(q,{class:"text-weight-medium"},{default:t(()=>e[11]||(e[11]=[i("Create a Person")])),_:1}),l(q,{caption:""},{default:t(()=>e[12]||(e[12]=[i(" Creates a person with their details")])),_:1})])]),_:1})]),_:1})),[[d]]),r((n(),b(v,{clickable:""},{default:t(()=>[l(_,null,{default:t(()=>[a("div",we,[l(q,{class:"text-weight-medium"},{default:t(()=>e[13]||(e[13]=[i("View duplicate Person details")])),_:1}),l(q,{caption:""},{default:t(()=>e[14]||(e[14]=[i(" Displays a list of person with possible duplicate")])),_:1})])]),_:1})]),_:1})),[[d]])]),_:1})]),_:1})]),_:1})]),a("div",Ve,[a("div",Ce,[l(y,{filled:"",clearable:"",label:"Name",class:"field-query-control",modelValue:o.model,"onUpdate:modelValue":e[1]||(e[1]=s=>o.model=s),type:"text"},null,8,["modelValue"])]),a("div",Qe,[l(D,{filled:"",clearable:"",label:"Life Stage",multiple:"",modelValue:o.optionsModel,"onUpdate:modelValue":e[2]||(e[2]=s=>o.optionsModel=s),options:o.options},null,8,["modelValue"])]),a("div",ke,[l(y,{filled:"",clearable:"",modelValue:o.dateInput,"onUpdate:modelValue":e[4]||(e[4]=s=>o.dateInput=s),label:"Date Encoded",onClear:o.dateCleared},{append:t(()=>[l(P,{name:"event",class:"cursor-pointer"},{default:t(()=>[l(F,{cover:""},{default:t(()=>[l(X,{modelValue:o.date,"onUpdate:modelValue":e[3]||(e[3]=s=>o.date=s),mask:"YYYY-MM-DD",range:""},{default:t(()=>[a("div",Pe,[r(l(p,{label:"Close",color:"primary",flat:""},null,512),[[d]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),a("div",Fe,[l($,{filled:""},{default:t(()=>[l(ee,{class:"text-caption text-grey-7",size:"xs",modelValue:o.checkbox,"onUpdate:modelValue":e[5]||(e[5]=s=>o.checkbox=s),val:"xs",label:"For Follow Up"},null,8,["modelValue"])]),_:1})])]),l(le,null,{default:t(()=>[o.isAdvancedFiltersOpen?(n(),g("div",Ae,[o.selectedAdvancedFilters.includes("home_address")?(n(),g("div",Se,[l(y,{filled:"",clearable:"",label:"Home Address",class:"field-query-control",modelValue:o.address,"onUpdate:modelValue":e[6]||(e[6]=s=>o.address=s),type:"text"},null,8,["modelValue"])])):w("",!0),o.selectedAdvancedFilters.includes("email_address")?(n(),g("div",De,[l(y,{filled:"",clearable:"",label:" Email Address",class:"field-query-control",modelValue:o.address,"onUpdate:modelValue":e[7]||(e[7]=s=>o.address=s),type:"text"},null,8,["modelValue"])])):w("",!0),o.selectedAdvancedFilters.includes("gender")?(n(),g("div",Ie,[l(D,{filled:"",clearable:"",label:"Gender",modelValue:o.genderOptionModel,"onUpdate:modelValue":e[8]||(e[8]=s=>o.genderOptionModel=s),options:o.genderOptions},null,8,["modelValue"])])):w("",!0)])):w("",!0)]),_:1})])]),l(o.DiscipleshipTable,{columns:o.columnsPerson},{"body-cell-actions":t(({props:s})=>[l(p,{size:"sm",icon:"settings",label:"Actions",unelevated:"",color:"grey-2","text-color":"dark"},{default:t(()=>[l(S,{"touch-position":""},{default:t(()=>[l(A,{style:{"min-width":"175px"},class:"text-caption",dense:""},{default:t(()=>[r((n(),b(v,{clickable:"",onClick:c=>o.goToProfilePage(s.row.id)},{default:t(()=>[l(_,null,{default:t(()=>e[15]||(e[15]=[i("View Person")])),_:1})]),_:2},1032,["onClick"])),[[d]]),r((n(),b(v,{clickable:""},{default:t(()=>[l(_,null,{default:t(()=>e[16]||(e[16]=[i("Edit Information")])),_:1})]),_:1})),[[d]]),r((n(),b(v,{clickable:""},{default:t(()=>[l(_,null,{default:t(()=>e[17]||(e[17]=[i("Connect to a Leader")])),_:1})]),_:1})),[[d]]),r((n(),b(v,{clickable:""},{default:t(()=>[l(_,null,{default:t(()=>e[18]||(e[18]=[i("Update Status")])),_:1})]),_:1})),[[d]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["columns"])])}const ol=h(_e,[["render",Ue],["__file","person-list.view.vue"]]);export{ol as default};
