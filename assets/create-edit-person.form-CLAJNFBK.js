import{Q as b}from"./QInput-Btb3upEo.js";import{Q as A}from"./QCheckbox-B4x6FDiq.js";import{h as j,v as D,Q as k,d as Q}from"./QBtn-DrOSU4Pj.js";import{Q as F,a as T}from"./QPopupProxy-DdZUOrSS.js";import{a as K,Q as L}from"./QOptionGroup-Dxjt7NXN.js";import{c as G,r as p,z as W,a3 as H,a4 as Y,v as z,h as J,g as X,u as q,x as Z,a5 as _,i as $,a6 as ee,H as oe,a as B,I as le,_ as te,K as ae,O as ne,N as f,Y as i,M as a,P as re,y as E}from"./index-BIE8txEE.js";import{a as ie}from"./QMenu-Dx63Jv60.js";import{C as O}from"./ClosePopup-BEYXvicz.js";const se=G({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(c,{slots:e,emit:v}){const o=X(),s=p(null);let u=0;const l=[];function V(t){const m=typeof t=="boolean"?t:c.noErrorFocus!==!0,y=++u,h=(n,r)=>{v(`validation${n===!0?"Success":"Error"}`,r)},N=n=>{const r=n.validate();return typeof r.then=="function"?r.then(d=>({valid:d,comp:n}),d=>({valid:!1,comp:n,err:d})):Promise.resolve({valid:r,comp:n})};return(c.greedy===!0?Promise.all(l.map(N)).then(n=>n.filter(r=>r.valid!==!0)):l.reduce((n,r)=>n.then(()=>N(r).then(d=>{if(d.valid===!1)return Promise.reject(d)})),Promise.resolve()).catch(n=>[n])).then(n=>{if(n===void 0||n.length===0)return y===u&&h(!0),!0;if(y===u){const{comp:r,err:d}=n[0];if(d!==void 0&&console.error(d),h(!1,r),m===!0){const C=n.find(({comp:w})=>typeof w.focus=="function"&&D(w.$)===!1);C!==void 0&&C.comp.focus()}}return!1})}function x(){u++,l.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function S(t){t!==void 0&&q(t);const m=u+1;V().then(y=>{m===u&&y===!0&&(c.onSubmit!==void 0?v("submit",t):t!==void 0&&t.target!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function M(t){t!==void 0&&q(t),v("reset"),Z(()=>{x(),c.autofocus===!0&&c.noResetFocus!==!0&&g()})}function g(){ie(()=>{if(s.value===null)return;const t=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),m=>m.tabIndex!==-1);t?.focus({preventScroll:!0})})}W(_,{bindComponent(t){l.push(t)},unbindComponent(t){const m=l.indexOf(t);m!==-1&&l.splice(m,1)}});let P=!1;return H(()=>{P=!0}),Y(()=>{P===!0&&c.autofocus===!0&&g()}),z(()=>{c.autofocus===!0&&g()}),Object.assign(o.proxy,{validate:V,resetValidation:x,submit:S,reset:M,focus:g,getValidationComponents:()=>l}),()=>J("form",{class:"q-form",ref:s,onSubmit:S,onReset:M},j(e.default))}});function de(){return $(ee)}const ue=oe({__name:"create-edit-person.form",setup(c,{expose:e}){e();const v={firstName:null,lastName:null,age:null,accept:!1,date:null,mobileNumber:null,emailAddress:null,homeAddress:null,group:[],lifeStage:null,gender:null,civiliStatus:null,facebook:null},o=p(v),s=de(),u=p(null),l=p(null),V=p(null),x=p(!1),S=p(null),M=p(null),g=["Kids","Campus","Single","Single Parent","Couples","Senior"],P=["Male","Female"],t=["Married","Single","Single Parent","Separated","Widowed"],m=[{label:"9AM Service",value:"op1"},{label:"11AM Service",value:"op2"},{label:"2PM Service",value:"op3"},{label:"4PM Service",value:"op4"},{label:"6PM Service",value:"op5"}],y=B(()=>S.value),h=B(()=>M.value);function N(){x.value!==!0?s.notify({color:"red-5",textColor:"white",icon:"warning",message:"You need to accept the license and terms first"}):s.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted"})}function U(){u.value=null,l.value=null,V.value=null,x.value=!1}const n=p(!1),r=le();function d(){n.value=!0,setTimeout(()=>{r.push({name:"person_details",params:{personId:C()}}),n.value=!1},3e3)}function C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(R){const I=Math.random()*16|0;return(R==="x"?I:I&3|8).toString(16)})}const w={initialValues:v,formModel:o,$q:s,firstName:u,lastName:l,age:V,accept:x,dateConnected:S,birthdate:M,lifeStageOptions:g,genderOptions:P,civilStatus:t,options:m,dateConnectedText:y,birthdateText:h,onSubmit:N,onReset:U,isLoading:n,router:r,goToProfilePage:d,generateGUID:C};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),me={class:"row items-center justify-end"},fe={class:"row items-center justify-end"},ce={class:"row"},pe={class:"col-2"},be={align:"right"};function ve(c,e,v,o,s,u){return ae(),ne(se,{onSubmit:o.onSubmit,onReset:o.onReset,class:"q-gutter-md"},{default:f(()=>[e[17]||(e[17]=i("p",{class:"text-weight-bold text-blue-grey-10"},"Connect Information",-1)),a(b,{filled:"",modelValue:o.formModel.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.formModel.firstName=l),label:"First name",dense:""},{error:f(()=>e[15]||(e[15]=[re(" Please type something here ")])),_:1},8,["modelValue"]),a(b,{filled:"",modelValue:o.formModel.lastName,"onUpdate:modelValue":e[1]||(e[1]=l=>o.formModel.lastName=l),label:"Last name",dense:""},null,8,["modelValue"]),a(A,{modelValue:o.formModel.lifeStage,"onUpdate:modelValue":e[2]||(e[2]=l=>o.formModel.lifeStage=l),filled:"",options:o.lifeStageOptions,label:"Life Stage",dense:""},null,8,["modelValue"]),a(b,{filled:"",modelValue:o.dateConnectedText,"onUpdate:modelValue":e[4]||(e[4]=l=>o.dateConnectedText=l),mask:"date",label:"Date Connected",dense:""},{append:f(()=>[a(k,{name:"event",class:"cursor-pointer"},{default:f(()=>[a(F,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:f(()=>[a(T,{modelValue:o.dateConnected,"onUpdate:modelValue":e[3]||(e[3]=l=>o.dateConnected=l),"today-btn":"","years-in-month-view":"",flat:""},{default:f(()=>[i("div",me,[E(a(Q,{label:"Close",color:"primary",flat:""},null,512),[[O]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e[18]||(e[18]=i("p",{class:"text-weight-bold text-blue-grey-10"},"Personal Information",-1)),a(b,{filled:"",modelValue:o.birthdateText,"onUpdate:modelValue":e[6]||(e[6]=l=>o.birthdateText=l),mask:"date",label:"Birthdate",dense:""},{append:f(()=>[a(k,{name:"event",class:"cursor-pointer"},{default:f(()=>[a(F,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:f(()=>[a(T,{modelValue:o.birthdate,"onUpdate:modelValue":e[5]||(e[5]=l=>o.birthdate=l),"years-in-month-view":""},{default:f(()=>[i("div",fe,[E(a(Q,{label:"Close",color:"primary",flat:""},null,512),[[O]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(A,{modelValue:o.formModel.gender,"onUpdate:modelValue":e[7]||(e[7]=l=>o.formModel.gender=l),filled:"",options:o.genderOptions,label:"Gender",dense:""},null,8,["modelValue"]),a(A,{modelValue:o.formModel.civiliStatus,"onUpdate:modelValue":e[8]||(e[8]=l=>o.formModel.civiliStatus=l),filled:"",options:o.civilStatus,label:"Civil Status",dense:""},null,8,["modelValue"]),a(b,{modelValue:o.formModel.homeAddress,"onUpdate:modelValue":e[9]||(e[9]=l=>o.formModel.homeAddress=l),filled:"",label:"Home Address",dense:""},null,8,["modelValue"]),e[19]||(e[19]=i("p",{class:"text-weight-bold text-blue-grey-10"},"Contact Information",-1)),a(b,{modelValue:o.formModel.mobileNumber,"onUpdate:modelValue":e[10]||(e[10]=l=>o.formModel.mobileNumber=l),filled:"",label:"Mobile Number",dense:""},null,8,["modelValue"]),a(b,{modelValue:o.formModel.emailAddress,"onUpdate:modelValue":e[11]||(e[11]=l=>o.formModel.emailAddress=l),filled:"",label:"Email Address",dense:"",rules:["email"]},null,8,["modelValue"]),e[20]||(e[20]=i("p",{class:"text-weight-bold text-blue-grey-10"},"Social Media Contact",-1)),a(b,{modelValue:o.formModel.facebook,"onUpdate:modelValue":e[12]||(e[12]=l=>o.formModel.facebook=l),filled:"",label:"Facebook Name/Email",dense:""},null,8,["modelValue"]),e[21]||(e[21]=i("p",{class:"text-weight-bold text-blue-grey-10"},"Service/s",-1)),a(K,{modelValue:o.formModel.group,"onUpdate:modelValue":e[13]||(e[13]=l=>o.formModel.group=l),options:o.options,color:"primary",type:"checkbox",inline:"",dense:""},null,8,["modelValue"]),i("div",ce,[i("div",pe,[a(L,{color:"blue",modelValue:o.formModel.accept,"onUpdate:modelValue":e[14]||(e[14]=l=>o.formModel.accept=l)},null,8,["modelValue"])]),e[16]||(e[16]=i("div",{class:"col-10 text-blue-grey-10"},[i("p",{class:"text-weight-bold q-ma-none"},"I agree to the data privacy statement"),i("p",{class:"text-caption"}," We are committed to protecting your personal data and ensuring its confidentiality. Any information collected will be used solely for the purposes outlined and will not be shared with third parties without your explicit consent, except as required by law. We employ strict security measures to safeguard your data and comply with all applicable data protection regulations. By providing your information, you acknowledge and agree to this policy. ")],-1))]),i("div",be,[a(Q,{label:"Submit",type:"submit",color:"primary",onClick:o.goToProfilePage,loading:o.isLoading},null,8,["loading"]),a(Q,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})}const he=te(ue,[["render",ve],["__file","create-edit-person.form.vue"]]);export{he as C,se as Q};
