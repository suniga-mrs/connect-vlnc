import{r as E,an as At,g as de,i as nl,w as J,v as Bt,o as Ae,a5 as al,a as i,ao as Ft,af as il,u as ce,x as se,a3 as It,a4 as Et,h as d,m as ve,ae as et,f as rl,c as Ne,n as sl,W as cl,ap as dl,aq as Ee,ah as fl,s as Ve,ai as vl,a8 as ke}from"./index-BIE8txEE.js";import{Q as je,i as ml,h as qe,j as gl,c as Rt,f as hl,e as bl}from"./QBtn-DrOSU4Pj.js";import{c as Sl,u as pl,a as yl,n as bt}from"./use-id-B6s3AC0h.js";import{a as zt,u as Ot}from"./use-dark-VSJ3s6Dh.js";import{a as Mt,r as Cl,e as wl,c as xl,f as Vl,h as kl,i as St,j as pt,k as ql,l as _l,Q as Al}from"./QMenu-Dx63Jv60.js";import{Q as Bl}from"./QChip-B6g5ytrn.js";import{u as Fl,a as Il,b as El,d as Rl,j as zl,i as Ol,Q as Ml}from"./QItemLabel-CTePAmBS.js";const yt=/^on[A-Z]/;function Tl(){const{attrs:e,vnode:o}=de(),l={listeners:E({}),attributes:E({})};function a(){const y={},n={};for(const g in e)g!=="class"&&g!=="style"&&yt.test(g)===!1&&(y[g]=e[g]);for(const g in o.props)yt.test(g)===!0&&(n[g]=o.props[g]);l.attributes.value=y,l.listeners.value=n}return At(a),a(),l}function Hl({validate:e,resetValidation:o,requiresQForm:l}){const a=nl(al,!1);if(a!==!1){const{props:y,proxy:n}=de();Object.assign(n,{validate:e,resetValidation:o}),J(()=>y.disable,g=>{g===!0?(typeof o=="function"&&o(),a.unbindComponent(n)):a.bindComponent(n)}),Bt(()=>{y.disable!==!0&&a.bindComponent(n)}),Ae(()=>{y.disable!==!0&&a.unbindComponent(n)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ct=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,wt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,xt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,De=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Le=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ze={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ct.test(e),hexaColor:e=>wt.test(e),hexOrHexaColor:e=>xt.test(e),rgbColor:e=>De.test(e),rgbaColor:e=>Le.test(e),rgbOrRgbaColor:e=>De.test(e)||Le.test(e),hexOrRgbColor:e=>Ct.test(e)||De.test(e),hexaOrRgbaColor:e=>wt.test(e)||Le.test(e),anyColor:e=>xt.test(e)||De.test(e)||Le.test(e)},$l=[!0,!1,"ondemand"],Dl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>$l.includes(e)}};function Ll(e,o){const{props:l,proxy:a}=de(),y=E(!1),n=E(null),g=E(!1);Hl({validate:D,resetValidation:V});let h=0,b;const F=i(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),m=i(()=>l.disable!==!0&&F.value===!0&&o.value===!1),C=i(()=>l.error===!0||y.value===!0),x=i(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:n.value);J(()=>l.modelValue,()=>{g.value=!0,m.value===!0&&l.lazyRules===!1&&R()});function A(){l.lazyRules!=="ondemand"&&m.value===!0&&g.value===!0&&R()}J(()=>l.reactiveRules,P=>{P===!0?b===void 0&&(b=J(()=>l.rules,A,{immediate:!0,deep:!0})):b!==void 0&&(b(),b=void 0)},{immediate:!0}),J(()=>l.lazyRules,A),J(e,P=>{P===!0?g.value=!0:m.value===!0&&l.lazyRules!=="ondemand"&&R()});function V(){h++,o.value=!1,g.value=!1,y.value=!1,n.value=null,R.cancel()}function D(P=l.modelValue){if(l.disable===!0||F.value===!1)return!0;const N=++h,L=o.value!==!0?()=>{g.value=!0}:()=>{},I=(w,z)=>{w===!0&&L(),y.value=w,n.value=z||null,o.value=!1},Y=[];for(let w=0;w<l.rules.length;w++){const z=l.rules[w];let M;if(typeof z=="function"?M=z(P,Ze):typeof z=="string"&&Ze[z]!==void 0&&(M=Ze[z](P)),M===!1||typeof M=="string")return I(!0,M),!1;M!==!0&&M!==void 0&&Y.push(M)}return Y.length===0?(I(!1),!0):(o.value=!0,Promise.all(Y).then(w=>{if(w===void 0||Array.isArray(w)===!1||w.length===0)return N===h&&I(!1),!0;const z=w.find(M=>M===!1||typeof M=="string");return N===h&&I(z!==void 0,z),z===void 0},w=>(N===h&&(console.error(w),I(!0)),!1)))}const R=Ft(D,0);return Ae(()=>{b!==void 0&&b(),R.cancel()}),Object.assign(a,{resetValidation:V,validate:D}),il(a,"hasError",()=>C.value),{isDirtyModel:g,hasRules:F,hasError:C,errorMessage:x,validate:D,resetValidation:V}}function tt(e){return e!=null&&(""+e).length!==0}const Pl={...Ot,...Dl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},lt={...Pl,maxlength:[Number,String]},Tt=["update:modelValue","clear","focus","blur"];function Ht({requiredForAttr:e=!0,tagProp:o,changeEvent:l=!1}={}){const{props:a,proxy:y}=de(),n=zt(a,y.$q),g=Sl({required:e,getValue:()=>a.for});return{requiredForAttr:e,changeEvent:l,tag:o===!0?i(()=>a.tag):{value:"label"},isDark:n,editable:i(()=>a.disable!==!0&&a.readonly!==!0),innerLoading:E(!1),focused:E(!1),hasPopupOpen:!1,splitAttrs:Tl(),targetUid:g,rootRef:E(null),targetRef:E(null),controlRef:E(null)}}function $t(e){const{props:o,emit:l,slots:a,attrs:y,proxy:n}=de(),{$q:g}=n;let h=null;e.hasValue===void 0&&(e.hasValue=i(()=>tt(o.modelValue))),e.emitValue===void 0&&(e.emitValue=v=>{l("update:modelValue",v)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:ee,onFocusout:Z}),Object.assign(e,{clearValue:te,onControlFocusin:ee,onControlFocusout:Z,focus:z}),e.computedCounter===void 0&&(e.computedCounter=i(()=>{if(o.counter!==!1){const v=typeof o.modelValue=="string"||typeof o.modelValue=="number"?(""+o.modelValue).length:Array.isArray(o.modelValue)===!0?o.modelValue.length:0,q=o.maxlength!==void 0?o.maxlength:o.maxValues;return v+(q!==void 0?" / "+q:"")}}));const{isDirtyModel:b,hasRules:F,hasError:m,errorMessage:C,resetValidation:x}=Ll(e.focused,e.innerLoading),A=e.floatingLabel!==void 0?i(()=>o.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):i(()=>o.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),V=i(()=>o.bottomSlots===!0||o.hint!==void 0||F.value===!0||o.counter===!0||o.error!==null),D=i(()=>o.filled===!0?"filled":o.outlined===!0?"outlined":o.borderless===!0?"borderless":o.standout?"standout":"standard"),R=i(()=>`q-field row no-wrap items-start q-field--${D.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(o.rounded===!0?" q-field--rounded":"")+(o.square===!0?" q-field--square":"")+(A.value===!0?" q-field--float":"")+(N.value===!0?" q-field--labeled":"")+(o.dense===!0?" q-field--dense":"")+(o.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(m.value===!0?" q-field--error":"")+(m.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(o.hideBottomSpace!==!0&&V.value===!0?" q-field--with-bottom":"")+(o.disable===!0?" q-field--disabled":o.readonly===!0?" q-field--readonly":"")),P=i(()=>"q-field__control relative-position row no-wrap"+(o.bgColor!==void 0?` bg-${o.bgColor}`:"")+(m.value===!0?" text-negative":typeof o.standout=="string"&&o.standout.length!==0&&e.focused.value===!0?` ${o.standout}`:o.color!==void 0?` text-${o.color}`:"")),N=i(()=>o.labelSlot===!0||o.label!==void 0),L=i(()=>"q-field__label no-pointer-events absolute ellipsis"+(o.labelColor!==void 0&&m.value!==!0?` text-${o.labelColor}`:"")),I=i(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:A.value,modelValue:o.modelValue,emitValue:e.emitValue})),Y=i(()=>{const v={};return e.targetUid.value&&(v.for=e.targetUid.value),o.disable===!0&&(v["aria-disabled"]="true"),v});function w(){const v=document.activeElement;let q=e.targetRef!==void 0&&e.targetRef.value;q&&(v===null||v.id!==e.targetUid.value)&&(q.hasAttribute("tabindex")===!0||(q=q.querySelector("[tabindex]")),q&&q!==v&&q.focus({preventScroll:!0}))}function z(){Mt(w)}function M(){Cl(w);const v=document.activeElement;v!==null&&e.rootRef.value.contains(v)&&v.blur()}function ee(v){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",v))}function Z(v,q){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",v)),q!==void 0&&q())})}function te(v){ce(v),g.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),o.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",o.modelValue),se(()=>{const q=b.value;x(),b.value=q})}function p(v){[13,32].includes(v.keyCode)&&te(v)}function Q(){const v=[];return a.prepend!==void 0&&v.push(d("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ve},a.prepend())),v.push(d("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},oe())),m.value===!0&&o.noErrorIcon===!1&&v.push(U("error",[d(je,{name:g.iconSet.field.error,color:"negative"})])),o.loading===!0||e.innerLoading.value===!0?v.push(U("inner-loading-append",a.loading!==void 0?a.loading():[d(ml,{color:o.color})])):o.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&v.push(U("inner-clearable-append",[d(je,{class:"q-field__focusable-action",name:o.clearIcon||g.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":g.lang.label.clear,onKeyup:p,onClick:te})])),a.append!==void 0&&v.push(d("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ve},a.append())),e.getInnerAppend!==void 0&&v.push(U("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&v.push(e.getControlChild()),v}function oe(){const v=[];return o.prefix!==void 0&&o.prefix!==null&&v.push(d("div",{class:"q-field__prefix no-pointer-events row items-center"},o.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&v.push(e.getShadowControl()),e.getControl!==void 0?v.push(e.getControl()):a.rawControl!==void 0?v.push(a.rawControl()):a.control!==void 0&&v.push(d("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":o.autofocus===!0||void 0},a.control(I.value))),N.value===!0&&v.push(d("div",{class:L.value},qe(a.label,o.label))),o.suffix!==void 0&&o.suffix!==null&&v.push(d("div",{class:"q-field__suffix no-pointer-events row items-center"},o.suffix)),v.concat(qe(a.default))}function ae(){let v,q;m.value===!0?C.value!==null?(v=[d("div",{role:"alert"},C.value)],q=`q--slot-error-${C.value}`):(v=qe(a.error),q="q--slot-error"):(o.hideHint!==!0||e.focused.value===!0)&&(o.hint!==void 0?(v=[d("div",o.hint)],q=`q--slot-hint-${o.hint}`):(v=qe(a.hint),q="q--slot-hint"));const ue=o.counter===!0||a.counter!==void 0;if(o.hideBottomSpace===!0&&ue===!1&&v===void 0)return;const u=d("div",{key:q,class:"q-field__messages col"},v);return d("div",{class:"q-field__bottom row items-start q-field__bottom--"+(o.hideBottomSpace!==!0?"animated":"stale"),onClick:ve},[o.hideBottomSpace===!0?u:d(et,{name:"q-transition--field-message"},()=>u),ue===!0?d("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function U(v,q){return q===null?null:d("div",{key:v,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},q)}let le=!1;return It(()=>{le=!0}),Et(()=>{le===!0&&o.autofocus===!0&&n.focus()}),o.autofocus===!0&&Bt(()=>{n.focus()}),Ae(()=>{h!==null&&clearTimeout(h)}),Object.assign(n,{focus:z,blur:M}),function(){const q=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":o.autofocus===!0||void 0,...Y.value}:Y.value;return d(e.tag.value,{ref:e.rootRef,class:[R.value,y.class],style:y.style,...q},[a.before!==void 0?d("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ve},a.before()):null,d("div",{class:"q-field__inner relative-position col self-stretch"},[d("div",{ref:e.controlRef,class:P.value,tabindex:-1,...e.controlEvents},Q()),V.value===!0?ae():null]),a.after!==void 0?d("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ve},a.after()):null])}}const Dt={name:String};function So(e){return i(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function jl(e={}){return(o,l,a)=>{o[l](d("input",{class:"hidden"+(a||""),...e.value}))}}function Kl(e){return i(()=>e.name||e.for)}const Nl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ql=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ul=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Wl=/[a-z0-9_ -]$/i;function Xl(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(rl.is.firefox===!0?Wl.test(l.data)===!1:Nl.test(l.data)===!0||Ql.test(l.data)===!0||Ul.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Yl=Ne({name:"QField",inheritAttrs:!1,props:{...lt,tag:{type:String,default:"label"}},emits:Tt,setup(){return $t(Ht({tagProp:!0}))}});let Pe=0;const Zl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Vt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Jl=Ne({name:"QDialog",inheritAttrs:!1,props:{...Fl,...wl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Il,"shake","click","escapeKey"],setup(e,{slots:o,emit:l,attrs:a}){const y=de(),n=E(null),g=E(!1),h=E(!1);let b=null,F=null,m,C;const x=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:A}=yl(),{registerTimeout:V}=El(),{registerTick:D,removeTick:R}=xl(),{transitionProps:P,transitionStyle:N}=Vl(e,()=>Vt[e.position][0],()=>Vt[e.position][1]),L=i(()=>N.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:I,hidePortal:Y,portalIsAccessible:w,renderPortal:z}=kl(y,n,j,"dialog"),{hide:M}=Rl({showing:g,hideOnRouteChange:x,handleShow:ae,handleHide:U,processOnMount:!0}),{addToHistory:ee,removeFromHistory:Z}=pl(g,M,x),te=i(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Zl[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),p=i(()=>g.value===!0&&e.seamless!==!0),Q=i(()=>e.autoClose===!0?{onClick:r}:{}),oe=i(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${p.value===!0?"modal":"seamless"}`,a.class]);J(()=>e.maximized,f=>{g.value===!0&&u(f)}),J(p,f=>{A(f),f===!0?(ql(O),_l(q)):(St(O),pt(q))});function ae(f){ee(),F=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,u(e.maximized),I(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),D(le)):R(),V(()=>{if(y.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:S,bottom:H}=document.activeElement.getBoundingClientRect(),{innerHeight:k}=window,W=window.visualViewport!==void 0?window.visualViewport.height:k;S>0&&H>W/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-W,H>=k?1/0:Math.ceil(document.scrollingElement.scrollTop+H-W/2))),document.activeElement.scrollIntoView()}C=!0,n.value.click(),C=!1}I(!0),h.value=!1,l("show",f)},e.transitionDuration)}function U(f){R(),Z(),ue(!0),h.value=!0,Y(),F!==null&&(((f&&f.type.indexOf("key")===0?F.closest('[tabindex]:not([tabindex^="-"])'):void 0)||F).focus(),F=null),V(()=>{Y(!0),h.value=!1,l("hide",f)},e.transitionDuration)}function le(f){Mt(()=>{let S=n.value;if(S!==null){if(f!==void 0){const H=S.querySelector(f);if(H!==null){H.focus({preventScroll:!0});return}}S.contains(document.activeElement)!==!0&&(S=S.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||S.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||S.querySelector("[autofocus], [data-autofocus]")||S,S.focus({preventScroll:!0}))}})}function v(f){f&&typeof f.focus=="function"?f.focus({preventScroll:!0}):le(),l("shake");const S=n.value;S!==null&&(S.classList.remove("q-animate--scale"),S.classList.add("q-animate--scale"),b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,n.value!==null&&(S.classList.remove("q-animate--scale"),le())},170))}function q(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&v():(l("escapeKey"),M()))}function ue(f){b!==null&&(clearTimeout(b),b=null),(f===!0||g.value===!0)&&(u(!1),e.seamless!==!0&&(A(!1),St(O),pt(q))),f!==!0&&(F=null)}function u(f){f===!0?m!==!0&&(Pe<1&&document.body.classList.add("q-body--dialog"),Pe++,m=!0):m===!0&&(Pe<2&&document.body.classList.remove("q-body--dialog"),Pe--,m=!1)}function r(f){C!==!0&&(M(f),l("click",f))}function _(f){e.persistent!==!0&&e.noBackdropDismiss!==!0?M(f):e.noShake!==!0&&v()}function O(f){e.allowFocusOutside!==!0&&w.value===!0&&gl(n.value,f.target)!==!0&&le('[tabindex]:not([tabindex="-1"])')}Object.assign(y.proxy,{focus:le,shake:v,__updateRefocusTarget(f){F=f||null}}),Ae(ue);function j(){return d("div",{role:"dialog","aria-modal":p.value===!0?"true":"false",...a,class:oe.value},[d(et,{name:"q-transition--fade",appear:!0},()=>p.value===!0?d("div",{class:"q-dialog__backdrop fixed-full",style:L.value,"aria-hidden":"true",tabindex:-1,onClick:_}):null),d(et,P.value,()=>g.value===!0?d("div",{ref:n,class:te.value,style:N.value,tabindex:-1,...Q.value},qe(o.default)):null)])}return z}});let Ke=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,Ke=e.scrollLeft>=0,e.remove()}const ne=1e3,Gl=["start","center","end","start-force","center-force","end-force"],Lt=Array.prototype.filter,eo=window.getComputedStyle(document.body).overflowAnchor===void 0?sl:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];Lt.call(l,y=>y.dataset&&y.dataset.qVsAnchor!==void 0).forEach(y=>{delete y.dataset.qVsAnchor});const a=l[o];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function _e(e,o){return e+o}function Je(e,o,l,a,y,n,g,h){const b=e===window?document.scrollingElement||document.documentElement:e,F=y===!0?"offsetWidth":"offsetHeight",m={scrollStart:0,scrollViewSize:-g-h,scrollMaxSize:0,offsetStart:-g,offsetEnd:-h};if(y===!0?(e===window?(m.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,m.scrollViewSize+=document.documentElement.clientWidth):(m.scrollStart=b.scrollLeft,m.scrollViewSize+=b.clientWidth),m.scrollMaxSize=b.scrollWidth,n===!0&&(m.scrollStart=(Ke===!0?m.scrollMaxSize-m.scrollViewSize:0)-m.scrollStart)):(e===window?(m.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,m.scrollViewSize+=document.documentElement.clientHeight):(m.scrollStart=b.scrollTop,m.scrollViewSize+=b.clientHeight),m.scrollMaxSize=b.scrollHeight),l!==null)for(let C=l.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetStart+=C[F]);if(a!==null)for(let C=a.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetEnd+=C[F]);if(o!==e){const C=b.getBoundingClientRect(),x=o.getBoundingClientRect();y===!0?(m.offsetStart+=x.left-C.left,m.offsetEnd-=x.width):(m.offsetStart+=x.top-C.top,m.offsetEnd-=x.height),e!==window&&(m.offsetStart+=m.scrollStart),m.offsetEnd+=m.scrollMaxSize-m.offsetStart}return m}function kt(e,o,l,a){o==="end"&&(o=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(a===!0&&(o=(Ke===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):l===!0?(a===!0&&(o=(Ke===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Re(e,o,l,a){if(l>=a)return 0;const y=o.length,n=Math.floor(l/ne),g=Math.floor((a-1)/ne)+1;let h=e.slice(n,g).reduce(_e,0);return l%ne!==0&&(h-=o.slice(n*ne,l).reduce(_e,0)),a%ne!==0&&a!==y&&(h-=o.slice(a,g*ne).reduce(_e,0)),h}const Pt={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},po=Object.keys(Pt),qt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Pt};function to({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:l,virtualScrollItemSizeComputed:a}){const y=de(),{props:n,emit:g,proxy:h}=y,{$q:b}=h;let F,m,C,x=[],A;const V=E(0),D=E(0),R=E({}),P=E(null),N=E(null),L=E(null),I=E({from:0,to:0}),Y=i(()=>n.tableColspan!==void 0?n.tableColspan:100);a===void 0&&(a=i(()=>n.virtualScrollItemSize));const w=i(()=>a.value+";"+n.virtualScrollHorizontal),z=i(()=>w.value+";"+n.virtualScrollSliceRatioBefore+";"+n.virtualScrollSliceRatioAfter);J(z,()=>{U()}),J(w,M);function M(){ae(m,!0)}function ee(u){ae(u===void 0?m:u)}function Z(u,r){const _=o();if(_==null||_.nodeType===8)return;const O=Je(_,l(),P.value,N.value,n.virtualScrollHorizontal,b.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd);C!==O.scrollViewSize&&U(O.scrollViewSize),p(_,O,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,Gl.indexOf(r)!==-1?r:m!==-1&&u>m?"end":"start")}function te(){const u=o();if(u==null||u.nodeType===8)return;const r=Je(u,l(),P.value,N.value,n.virtualScrollHorizontal,b.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd),_=e.value-1,O=r.scrollMaxSize-r.offsetStart-r.offsetEnd-D.value;if(F===r.scrollStart)return;if(r.scrollMaxSize<=0){p(u,r,0,0);return}C!==r.scrollViewSize&&U(r.scrollViewSize),Q(I.value.from);const j=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(A[_],r.scrollViewSize/2));if(j>0&&Math.ceil(r.scrollStart)>=j){p(u,r,_,r.scrollMaxSize-r.offsetEnd-x.reduce(_e,0));return}let f=0,S=r.scrollStart-r.offsetStart,H=S;if(S<=O&&S+r.scrollViewSize>=V.value)S-=V.value,f=I.value.from,H=S;else for(let k=0;S>=x[k]&&f<_;k++)S-=x[k],f+=ne;for(;S>0&&f<_;)S-=A[f],S>-r.scrollViewSize?(f++,H=S):H=A[f]+S;p(u,r,f,H)}function p(u,r,_,O,j){const f=typeof j=="string"&&j.indexOf("-force")!==-1,S=f===!0?j.replace("-force",""):j,H=S!==void 0?S:"start";let k=Math.max(0,_-R.value[H]),W=k+R.value.total;W>e.value&&(W=e.value,k=Math.max(0,W-R.value.total)),F=r.scrollStart;const fe=k!==I.value.from||W!==I.value.to;if(fe===!1&&S===void 0){v(_);return}const{activeElement:ze}=document,ie=L.value;fe===!0&&ie!==null&&ie!==ze&&ie.contains(ze)===!0&&(ie.addEventListener("focusout",oe),setTimeout(()=>{ie!==null&&ie.removeEventListener("focusout",oe)})),eo(ie,_-k);const Oe=S!==void 0?A.slice(k,_).reduce(_e,0):0;if(fe===!0){const me=W>=I.value.from&&k<=I.value.to?I.value.to:W;I.value={from:k,to:me},V.value=Re(x,A,0,k),D.value=Re(x,A,W,e.value),requestAnimationFrame(()=>{I.value.to!==W&&F===r.scrollStart&&(I.value={from:I.value.from,to:W},D.value=Re(x,A,W,e.value))})}requestAnimationFrame(()=>{if(F!==r.scrollStart)return;fe===!0&&Q(k);const me=A.slice(k,_).reduce(_e,0),ge=me+r.offsetStart+V.value,Me=ge+A[_];let Be=ge+O;if(S!==void 0){const Qe=me-Oe,Fe=r.scrollStart+Qe;Be=f!==!0&&Fe<ge&&Me<Fe+r.scrollViewSize?Fe:S==="end"?Me-r.scrollViewSize:ge-(S==="start"?0:Math.round((r.scrollViewSize-A[_])/2))}F=Be,kt(u,Be,n.virtualScrollHorizontal,b.lang.rtl),v(_)})}function Q(u){const r=L.value;if(r){const _=Lt.call(r.children,k=>k.classList&&k.classList.contains("q-virtual-scroll--skip")===!1),O=_.length,j=n.virtualScrollHorizontal===!0?k=>k.getBoundingClientRect().width:k=>k.offsetHeight;let f=u,S,H;for(let k=0;k<O;){for(S=j(_[k]),k++;k<O&&_[k].classList.contains("q-virtual-scroll--with-prev")===!0;)S+=j(_[k]),k++;H=S-A[f],H!==0&&(A[f]+=H,x[Math.floor(f/ne)]+=H),f++}}}function oe(){L.value!==null&&L.value!==void 0&&L.value.focus()}function ae(u,r){const _=1*a.value;(r===!0||Array.isArray(A)===!1)&&(A=[]);const O=A.length;A.length=e.value;for(let f=e.value-1;f>=O;f--)A[f]=_;const j=Math.floor((e.value-1)/ne);x=[];for(let f=0;f<=j;f++){let S=0;const H=Math.min((f+1)*ne,e.value);for(let k=f*ne;k<H;k++)S+=A[k];x.push(S)}m=-1,F=void 0,V.value=Re(x,A,0,I.value.from),D.value=Re(x,A,I.value.to,e.value),u>=0?(Q(I.value.from),se(()=>{Z(u)})):q()}function U(u){if(u===void 0&&typeof window<"u"){const S=o();S!=null&&S.nodeType!==8&&(u=Je(S,l(),P.value,N.value,n.virtualScrollHorizontal,b.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd).scrollViewSize)}C=u;const r=parseFloat(n.virtualScrollSliceRatioBefore)||0,_=parseFloat(n.virtualScrollSliceRatioAfter)||0,O=1+r+_,j=u===void 0||u<=0?1:Math.ceil(u/a.value),f=Math.max(1,j,Math.ceil((n.virtualScrollSliceSize>0?n.virtualScrollSliceSize:10)/O));R.value={total:Math.ceil(f*O),start:Math.ceil(f*r),center:Math.ceil(f*(.5+r)),end:Math.ceil(f*(1+r)),view:j}}function le(u,r){const _=n.virtualScrollHorizontal===!0?"width":"height",O={["--q-virtual-scroll-item-"+_]:a.value+"px"};return[u==="tbody"?d(u,{class:"q-virtual-scroll__padding",key:"before",ref:P},[d("tr",[d("td",{style:{[_]:`${V.value}px`,...O},colspan:Y.value})])]):d(u,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[_]:`${V.value}px`,...O}}),d(u,{class:"q-virtual-scroll__content",key:"content",ref:L,tabindex:-1},r.flat()),u==="tbody"?d(u,{class:"q-virtual-scroll__padding",key:"after",ref:N},[d("tr",[d("td",{style:{[_]:`${D.value}px`,...O},colspan:Y.value})])]):d(u,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[_]:`${D.value}px`,...O}})]}function v(u){m!==u&&(n.onVirtualScroll!==void 0&&g("virtualScroll",{index:u,from:I.value.from,to:I.value.to-1,direction:u<m?"decrease":"increase",ref:h}),m=u)}U();const q=Ft(te,b.platform.is.ios===!0?120:35);cl(()=>{U()});let ue=!1;return It(()=>{ue=!0}),Et(()=>{if(ue!==!0)return;const u=o();F!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?kt(u,F,n.virtualScrollHorizontal,b.lang.rtl):Z(m)}),Ae(()=>{q.cancel()}),Object.assign(h,{scrollTo:Z,reset:M,refresh:ee}),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:R,setVirtualScrollSize:U,onVirtualScrollEvt:q,localResetVirtualScroll:ae,padVirtualScroll:le,scrollTo:Z,reset:M,refresh:ee}}const _t=e=>["add","add-unique","toggle"].includes(e),lo=".*+?^${}()|[]\\",oo=Object.keys(lt);function Ge(e,o){if(typeof e=="function")return e;const l=e!==void 0?e:o;return a=>a!==null&&typeof a=="object"&&l in a?a[l]:a}const yo=Ne({name:"QSelect",inheritAttrs:!1,props:{...qt,...Dt,...lt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:_t},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:qt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Tt,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:l}){const{proxy:a}=de(),{$q:y}=a,n=E(!1),g=E(!1),h=E(-1),b=E(""),F=E(!1),m=E(!1);let C=null,x=null,A,V,D,R=null,P,N,L,I;const Y=E(null),w=E(null),z=E(null),M=E(null),ee=E(null),Z=Kl(e),te=Xl(ft),p=i(()=>Array.isArray(e.options)?e.options.length:0),Q=i(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:oe,virtualScrollSliceSizeComputed:ae,localResetVirtualScroll:U,padVirtualScroll:le,onVirtualScrollEvt:v,scrollTo:q,setVirtualScrollSize:ue}=to({virtualScrollLength:p,getVirtualScrollTarget:Qt,getVirtualScrollEl:ct,virtualScrollItemSizeComputed:Q}),u=Ht(),r=i(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const c=e.mapOptions===!0&&A!==void 0?A:[],B=s.map($=>Nt($,c));return e.modelValue===null&&t===!0?B.filter($=>$!==null):B}return s}),_=i(()=>{const t={};return oo.forEach(s=>{const c=e[s];c!==void 0&&(t[s]=c)}),t}),O=i(()=>e.optionsDark===null?u.isDark.value:e.optionsDark),j=i(()=>tt(r.value)),f=i(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),S=i(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),H=i(()=>p.value===0),k=i(()=>r.value.map(t=>G.value(t)).join(", ")),W=i(()=>e.displayValue!==void 0?e.displayValue:k.value),fe=i(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ze=i(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(fe.value))),ie=i(()=>u.focused.value===!0?e.tabindex:-1),Oe=i(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":n.value===!0?"true":"false","aria-controls":`${u.targetUid.value}_lb`};return h.value>=0&&(t["aria-activedescendant"]=`${u.targetUid.value}_${h.value}`),t}),me=i(()=>({id:`${u.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ge=i(()=>r.value.map((t,s)=>({index:s,opt:t,html:fe.value(t),selected:!0,removeAtIndex:Kt,toggleOption:he,tabindex:ie.value}))),Me=i(()=>{if(p.value===0)return[];const{from:t,to:s}=oe.value;return e.options.slice(t,s).map((c,B)=>{const $=Se.value(c)===!0,T=We(c)===!0,X=t+B,K={clickable:!0,active:T,activeClass:Fe.value,manualFocus:!0,focused:!1,disable:$,tabindex:-1,dense:e.optionsDense,dark:O.value,role:"option","aria-selected":T===!0?"true":"false",id:`${u.targetUid.value}_${X}`,onClick:()=>{he(c)}};return $!==!0&&(h.value===X&&(K.focused=!0),y.platform.is.desktop===!0&&(K.onMousemove=()=>{n.value===!0&&pe(X)})),{index:X,opt:c,html:fe.value(c),label:G.value(c),selected:K.active,focused:K.focused,toggleOption:he,setOptionIndex:pe,itemProps:K}})}),Be=i(()=>e.dropdownIcon!==void 0?e.dropdownIcon:y.iconSet.arrow.dropdown),Qe=i(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Fe=i(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),re=i(()=>Ge(e.optionValue,"value")),G=i(()=>Ge(e.optionLabel,"label")),Se=i(()=>Ge(e.optionDisable,"disable")),Te=i(()=>r.value.map(re.value)),jt=i(()=>{const t={onInput:ft,onChange:te,onKeydown:st,onKeyup:it,onKeypress:rt,onFocus:nt,onClick(s){V===!0&&Ve(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=te,t});J(r,t=>{A=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&u.innerLoading.value!==!0&&(g.value!==!0&&n.value!==!0||j.value!==!0)&&(D!==!0&&xe(),(g.value===!0||n.value===!0)&&ye(""))},{immediate:!0}),J(()=>e.fillInput,xe),J(n,Xe),J(p,ul);function ot(t){return e.emitValue===!0?re.value(t):t}function Ue(t){if(t!==-1&&t<r.value.length)if(e.multiple===!0){const s=e.modelValue.slice();l("remove",{index:t,value:s.splice(t,1)[0]}),l("update:modelValue",s)}else l("update:modelValue",null)}function Kt(t){Ue(t),u.focus()}function ut(t,s){const c=ot(t);if(e.multiple!==!0){e.fillInput===!0&&Ie(G.value(t),!0,!0),l("update:modelValue",c);return}if(r.value.length===0){l("add",{index:0,value:c}),l("update:modelValue",e.multiple===!0?[c]:c);return}if(s===!0&&We(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();l("add",{index:B.length,value:c}),B.push(c),l("update:modelValue",B)}function he(t,s){if(u.editable.value!==!0||t===void 0||Se.value(t)===!0)return;const c=re.value(t);if(e.multiple!==!0){s!==!0&&(Ie(e.fillInput===!0?G.value(t):"",!0,!0),be()),w.value!==null&&w.value.focus(),(r.value.length===0||Ee(re.value(r.value[0]),c)!==!0)&&l("update:modelValue",e.emitValue===!0?c:t);return}if((V!==!0||F.value===!0)&&u.focus(),nt(),r.value.length===0){const T=e.emitValue===!0?c:t;l("add",{index:0,value:T}),l("update:modelValue",e.multiple===!0?[T]:T);return}const B=e.modelValue.slice(),$=Te.value.findIndex(T=>Ee(T,c));if($!==-1)l("remove",{index:$,value:B.splice($,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const T=e.emitValue===!0?c:t;l("add",{index:B.length,value:T}),B.push(T)}l("update:modelValue",B)}function pe(t){if(y.platform.is.desktop!==!0)return;const s=t!==-1&&t<p.value?t:-1;h.value!==s&&(h.value=s)}function He(t=1,s){if(n.value===!0){let c=h.value;do c=bt(c+t,-1,p.value-1);while(c!==-1&&c!==h.value&&Se.value(e.options[c])===!0);h.value!==c&&(pe(c),q(c),s!==!0&&e.useInput===!0&&e.fillInput===!0&&$e(c>=0?G.value(e.options[c]):P,!0))}}function Nt(t,s){const c=B=>Ee(re.value(B),t);return e.options.find(c)||s.find(c)||t}function We(t){const s=re.value(t);return Te.value.find(c=>Ee(c,s))!==void 0}function nt(t){e.useInput===!0&&w.value!==null&&(t===void 0||w.value===t.target&&t.target.value===k.value)&&w.value.select()}function at(t){fl(t,27)===!0&&n.value===!0&&(Ve(t),be(),xe()),l("keyup",t)}function it(t){const{value:s}=t.target;if(t.keyCode!==void 0){at(t);return}if(t.target.value="",C!==null&&(clearTimeout(C),C=null),x!==null&&(clearTimeout(x),x=null),xe(),typeof s=="string"&&s.length!==0){const c=s.toLocaleLowerCase(),B=T=>{const X=e.options.find(K=>String(T.value(K)).toLocaleLowerCase()===c);return X===void 0?!1:(r.value.indexOf(X)===-1?he(X):be(),!0)},$=T=>{B(re)!==!0&&T!==!0&&B(G)!==!0&&ye(s,!0,()=>$(!0))};$()}else u.clearValue(t)}function rt(t){l("keypress",t)}function st(t){if(l("keydown",t),vl(t)===!0)return;const s=b.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(h.value!==-1||s===!0);if(t.keyCode===27){ve(t);return}if(t.keyCode===9&&c===!1){Ce();return}if(t.target===void 0||t.target.id!==u.targetUid.value||u.editable.value!==!0)return;if(t.keyCode===40&&u.innerLoading.value!==!0&&n.value===!1){ce(t),we();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&b.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ue(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof b.value!="string"||b.value.length===0)&&(ce(t),h.value=-1,He(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ae.value!==void 0&&(ce(t),h.value=Math.max(-1,Math.min(p.value,h.value+(t.keyCode===33?-1:1)*ae.value.view)),He(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ce(t),He(t.keyCode===38?-1:1,e.multiple));const B=p.value;if((L===void 0||I<Date.now())&&(L=""),B>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||L.length!==0)){n.value!==!0&&we(t);const $=t.key.toLocaleLowerCase(),T=L.length===1&&L[0]===$;I=Date.now()+1500,T===!1&&(ce(t),L+=$);const X=new RegExp("^"+L.split("").map(Ye=>lo.indexOf(Ye)!==-1?"\\"+Ye:Ye).join(".*"),"i");let K=h.value;if(T===!0||K<0||X.test(G.value(e.options[K]))!==!0)do K=bt(K+1,-1,B-1);while(K!==h.value&&(Se.value(e.options[K])===!0||X.test(G.value(e.options[K]))!==!0));h.value!==K&&se(()=>{pe(K),q(K),K>=0&&e.useInput===!0&&e.fillInput===!0&&$e(G.value(e.options[K]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||L!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&ce(t),h.value!==-1&&h.value<B){he(e.options[h.value]);return}if(s===!0){const $=(T,X)=>{if(X){if(_t(X)!==!0)return}else X=e.newValueMode;if(Ie("",e.multiple!==!0,!0),T==null)return;(X==="toggle"?he:ut)(T,X==="add-unique"),e.multiple!==!0&&(w.value!==null&&w.value.focus(),be())};if(e.onNewValue!==void 0?l("newValue",b.value,$):$(b.value),e.multiple!==!0)return}n.value===!0?Ce():u.innerLoading.value!==!0&&we()}}function ct(){return V===!0?ee.value:z.value!==null&&z.value.contentEl!==null?z.value.contentEl:void 0}function Qt(){return ct()}function Ut(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?ge.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?ge.value.map((t,s)=>d(Bl,{key:"option-"+s,removable:u.editable.value===!0&&Se.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ie.value,onRemove(){t.removeAtIndex(s)}},()=>d("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:G.value(t.opt)}))):[d("span",{[ze.value===!0?"innerHTML":"textContent"]:W.value})]}function dt(){if(H.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:b.value}):void 0;const t=o.option!==void 0?o.option:c=>d(Ml,{key:c.index,...c.itemProps},()=>d(zl,()=>d(Ol,()=>d("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let s=le("div",Me.value.map(t));return o["before-options"]!==void 0&&(s=o["before-options"]().concat(s)),Rt(o["after-options"],s)}function Wt(t,s){const c=s===!0?{...Oe.value,...u.splitAttrs.attributes.value}:void 0,B={ref:s===!0?w:void 0,key:"i_t",class:f.value,style:e.inputStyle,value:b.value!==void 0?b.value:"",type:"search",...c,id:s===!0?u.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...jt.value};return t!==!0&&V===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),d("input",B)}function ft(t){C!==null&&(clearTimeout(C),C=null),x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&($e(t.target.value||""),D=!0,P=b.value,u.focused.value!==!0&&(V!==!0||F.value===!0)&&u.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{C=null,ye(b.value)},e.inputDebounce)))}function $e(t,s){b.value!==t&&(b.value=t,s===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",t):x=setTimeout(()=>{x=null,l("inputValue",t)},e.inputDebounce))}function Ie(t,s,c){D=c!==!0,e.useInput===!0&&($e(t,!0),(s===!0||c!==!0)&&(P=t),s!==!0&&ye(t))}function ye(t,s,c){if(e.onFilter===void 0||s!==!0&&u.focused.value!==!0)return;u.innerLoading.value===!0?l("filterAbort"):(u.innerLoading.value=!0,m.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&D!==!0&&t===G.value(r.value[0])&&(t="");const B=setTimeout(()=>{n.value===!0&&(n.value=!1)},10);R!==null&&clearTimeout(R),R=B,l("filter",t,($,T)=>{(s===!0||u.focused.value===!0)&&R===B&&(clearTimeout(R),typeof $=="function"&&$(),m.value=!1,se(()=>{u.innerLoading.value=!1,u.editable.value===!0&&(s===!0?n.value===!0&&be():n.value===!0?Xe(!0):n.value=!0),typeof T=="function"&&se(()=>{T(a)}),typeof c=="function"&&se(()=>{c(a)})}))},()=>{u.focused.value===!0&&R===B&&(clearTimeout(R),u.innerLoading.value=!1,m.value=!1),n.value===!0&&(n.value=!1)})}function Xt(){return d(Al,{ref:z,class:S.value,style:e.popupContentStyle,modelValue:n.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&H.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:O.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Qe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...me.value,onScrollPassive:v,onBeforeShow:mt,onBeforeHide:Yt,onShow:Zt},dt)}function Yt(t){gt(t),Ce()}function Zt(){ue()}function Jt(t){Ve(t),w.value!==null&&w.value.focus(),F.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Gt(t){Ve(t),se(()=>{F.value=!1})}function el(){const t=[d(Yl,{class:`col-auto ${u.fieldClass.value}`,..._.value,for:u.targetUid.value,dark:O.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:b.value.length!==0,...u.splitAttrs.listeners.value,onFocus:Jt,onBlur:Gt},{...o,rawControl:()=>u.getControl(!0),before:void 0,after:void 0})];return n.value===!0&&t.push(d("div",{ref:ee,class:S.value+" scroll",style:e.popupContentStyle,...me.value,onClick:ve,onScrollPassive:v},dt())),d(Jl,{ref:M,modelValue:g.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:mt,onBeforeHide:tl,onHide:ll,onShow:ol},()=>d("div",{class:"q-select__dialog"+(O.value===!0?" q-select__dialog--dark q-dark":"")+(F.value===!0?" q-select__dialog--focused":"")},t))}function tl(t){gt(t),M.value!==null&&M.value.__updateRefocusTarget(u.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),u.focused.value=!1}function ll(t){be(),u.focused.value===!1&&l("blur",t),xe()}function ol(){const t=document.activeElement;(t===null||t.id!==u.targetUid.value)&&w.value!==null&&w.value!==t&&w.value.focus(),ue()}function Ce(){g.value!==!0&&(h.value=-1,n.value===!0&&(n.value=!1),u.focused.value===!1&&(R!==null&&(clearTimeout(R),R=null),u.innerLoading.value===!0&&(l("filterAbort"),u.innerLoading.value=!1,m.value=!1)))}function we(t){u.editable.value===!0&&(V===!0?(u.onControlFocusin(t),g.value=!0,se(()=>{u.focus()})):u.focus(),e.onFilter!==void 0?ye(b.value):(H.value!==!0||o["no-option"]!==void 0)&&(n.value=!0))}function be(){g.value=!1,Ce()}function xe(){e.useInput===!0&&Ie(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&G.value(r.value[0])||"",!0,!0)}function Xe(t){let s=-1;if(t===!0){if(r.value.length!==0){const c=re.value(r.value[0]);s=e.options.findIndex(B=>Ee(re.value(B),c))}U(s)}pe(s)}function ul(t,s){n.value===!0&&u.innerLoading.value===!1&&(U(-1,!0),se(()=>{n.value===!0&&u.innerLoading.value===!1&&(t>s?U():Xe(!0))}))}function vt(){g.value===!1&&z.value!==null&&z.value.updatePosition()}function mt(t){t!==void 0&&Ve(t),l("popupShow",t),u.hasPopupOpen=!0,u.onControlFocusin(t)}function gt(t){t!==void 0&&Ve(t),l("popupHide",t),u.hasPopupOpen=!1,u.onControlFocusout(t)}function ht(){V=y.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||H.value===!1:!0),N=y.platform.is.ios===!0&&V===!0&&e.useInput===!0?"fade":e.transitionShow}return At(ht),dl(vt),ht(),Ae(()=>{C!==null&&clearTimeout(C),x!==null&&clearTimeout(x)}),Object.assign(a,{showPopup:we,hidePopup:be,removeAtIndex:Ue,add:ut,toggleOption:he,getOptionIndex:()=>h.value,setOptionIndex:pe,moveOptionSelection:He,filter:ye,updateMenuPosition:vt,updateInputValue:Ie,isOptionSelected:We,getEmittingOptionValue:ot,isOptionDisabled:(...t)=>Se.value.apply(null,t)===!0,getOptionValue:(...t)=>re.value.apply(null,t),getOptionLabel:(...t)=>G.value.apply(null,t)}),Object.assign(u,{innerValue:r,fieldClass:i(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Y,targetRef:w,hasValue:j,showPopup:we,floatingLabel:i(()=>e.hideSelected!==!0&&j.value===!0||typeof b.value=="number"||b.value.length!==0||tt(e.displayValue)),getControlChild:()=>{if(u.editable.value!==!1&&(g.value===!0||H.value!==!0||o["no-option"]!==void 0))return V===!0?el():Xt();u.hasPopupOpen===!0&&(u.hasPopupOpen=!1)},controlEvents:{onFocusin(t){u.onControlFocusin(t)},onFocusout(t){u.onControlFocusout(t,()=>{xe(),Ce()})},onClick(t){if(ve(t),V!==!0&&n.value===!0){Ce(),w.value!==null&&w.value.focus();return}we(t)}},getControl:t=>{const s=Ut(),c=t===!0||g.value!==!0||V!==!0;if(e.useInput===!0)s.push(Wt(t,c));else if(u.editable.value===!0){const $=c===!0?Oe.value:void 0;s.push(d("input",{ref:c===!0?w:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?u.targetUid.value:void 0,value:W.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...$,onKeydown:st,onKeyup:at,onKeypress:rt})),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(d("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:it}))}if(Z.value!==void 0&&e.disable!==!0&&Te.value.length!==0){const $=Te.value.map(T=>d("option",{value:T,selected:!0}));s.push(d("select",{class:"hidden",name:Z.value,multiple:e.multiple},$))}const B=e.useInput===!0||c!==!0?void 0:u.splitAttrs.attributes.value;return d("div",{class:"q-field__native row items-center",...B,...u.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&m.value!==!0&&e.hideDropdownIcon!==!0?[d(je,{class:"q-select__dropdown-icon"+(n.value===!0?" rotate-180":""),name:Be.value})]:null}),$t(u)}});function uo(e,o){const l=E(null),a=i(()=>e.disable===!0?null:d("span",{ref:l,class:"no-outline",tabindex:-1}));function y(n){const g=o.value;n!==void 0&&n.type.indexOf("key")===0?g!==null&&document.activeElement!==g&&g.contains(document.activeElement)===!0&&g.focus():l.value!==null&&(n===void 0||g!==null&&g.contains(n.target)===!0)&&l.value.focus()}return{refocusTargetEl:a,refocusTarget:y}}const no={xs:30,sm:35,md:40,lg:50,xl:60},ao={...Ot,...bl,...Dt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},io=["update:modelValue"];function ro(e,o){const{props:l,slots:a,emit:y,proxy:n}=de(),{$q:g}=n,h=zt(l,g),b=E(null),{refocusTargetEl:F,refocusTarget:m}=uo(l,b),C=hl(l,no),x=i(()=>l.val!==void 0&&Array.isArray(l.modelValue)),A=i(()=>{const p=ke(l.val);return x.value===!0?l.modelValue.findIndex(Q=>ke(Q)===p):-1}),V=i(()=>x.value===!0?A.value!==-1:ke(l.modelValue)===ke(l.trueValue)),D=i(()=>x.value===!0?A.value===-1:ke(l.modelValue)===ke(l.falseValue)),R=i(()=>V.value===!1&&D.value===!1),P=i(()=>l.disable===!0?-1:l.tabindex||0),N=i(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(h.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),L=i(()=>{const p=V.value===!0?"truthy":D.value===!0?"falsy":"indet",Q=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?V.value===!0:D.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${p}${Q}`}),I=i(()=>{const p={type:"checkbox"};return l.name!==void 0&&Object.assign(p,{".checked":V.value,"^checked":V.value===!0?"checked":void 0,name:l.name,value:x.value===!0?l.val:l.trueValue}),p}),Y=jl(I),w=i(()=>{const p={tabindex:P.value,role:e==="toggle"?"switch":"checkbox","aria-label":l.label,"aria-checked":R.value===!0?"mixed":V.value===!0?"true":"false"};return l.disable===!0&&(p["aria-disabled"]="true"),p});function z(p){p!==void 0&&(ce(p),m(p)),l.disable!==!0&&y("update:modelValue",M(),p)}function M(){if(x.value===!0){if(V.value===!0){const p=l.modelValue.slice();return p.splice(A.value,1),p}return l.modelValue.concat([l.val])}if(V.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(D.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function ee(p){(p.keyCode===13||p.keyCode===32)&&ce(p)}function Z(p){(p.keyCode===13||p.keyCode===32)&&z(p)}const te=o(V,R);return Object.assign(n,{toggle:z}),()=>{const p=te();l.disable!==!0&&Y(p,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const Q=[d("div",{class:L.value,style:C.value,"aria-hidden":"true"},p)];F.value!==null&&Q.push(F.value);const oe=l.label!==void 0?Rt(a.default,[l.label]):qe(a.default);return oe!==void 0&&Q.push(d("div",{class:`q-${e}__label q-anchor--skip`},oe)),d("div",{ref:b,class:N.value,...w.value,onClick:z,onKeydown:ee,onKeyup:Z},Q)}}const so=()=>d("div",{key:"svg",class:"q-checkbox__bg absolute"},[d("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[d("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),d("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),Co=Ne({name:"QCheckbox",props:ao,emits:io,setup(e){const o=so();function l(a,y){const n=i(()=>(a.value===!0?e.checkedIcon:y.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>n.value!==null?[d("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[d(je,{class:"q-checkbox__icon",name:n.value})])]:[o]}return ro("checkbox",l)}});export{yo as Q,Jl as a,Yl as b,Co as c,io as d,ro as e,Dt as f,uo as g,jl as h,So as i,lt as j,Tt as k,Kl as l,Ht as m,$t as n,no as o,tt as p,Xl as q,Ke as r,qt as s,to as t,ao as u,po as v};
